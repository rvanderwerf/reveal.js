<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Getting Grails Into The Enterprise</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
        <!--<link rel="stylesheet" type="text/css" href="fdw-demo.css" media="all" />-->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="style2.css">
		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h2>Getting Grails into the Enterprise</h2>
					<h3>How to talk your favorite technology into your company and keep it there</h3>
                    <p>Gr8Conf.eu 2014</p>
					<p>
						<small>Created by <a href="http://rvanderwerf.blogspot.com">Ryan Vanderwerf</a> / <a href="http://twitter.com/RyanVanderwerf">@RyanVanderwerf</a></small>
					</p>
				</section>

                <section>
                    <h2>About Me</h2>
                    <h3>Learn the ropes to maximize your application's potential</h3>
                    <ul style="list-style-type: none;">
                        <li>Chief Architect @ ReachForce</li>
                        <li>Co-Chair Austin Groovy and Grails User Group</li>
                        <li>Help maintain Grails Quartz plugin</li>
                        <li>Maintain GVPS Plugin (Grails Video Pseudo Streamer)</li>
                        <li>Maintain Struts-1 Plugin</li>
                        <li>Submit pull requests for others when I can!</li>
                    </ul>
                </section>

				<section>


                    <h2 class="text-animation">What We Will Cover</h2>


                    <ul>
                        <li class="fragment"><strong>How to Get Grails In The Door</strong></li>
                        <li class="fragment"><strong>My Story With Grails</strong></li>
                        <li class="fragment"><strong>Tips to help create a plan to start a project or introduce Grails in your company</strong></li>
                        <li class="fragment"><strong>Tips to convince management or project managers</strong></li>
                        <li class="fragment"><strong>Tips for selecting a candidate application</strong></li>
                        <li class="fragment"><strong>Deploying a plugin to a maven repository / Artifactory</strong></li>
                        <li class="fragment"><strong>A little tour of Jenkins</strong></li>
                        <li class="fragment"><strong>Plugins to help keep things running smoothly</strong></li>
                        <li class="fragment"><strong>Plugins to help you get started and get Grails 'in the door' such as using an old Struts 1.x application
                        </strong></li>

                    </ul>

                    <aside class="notes">
                        Top level overview
                    </aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>

                      <h2>How to Get Grails In The Door</h2>


                        <p>Looking to introduce Grails into your Company or Enterprise? Make sure you can answer these questions:</p>

                        <ul style="list-style-type: none;">
                            <li class="fragment"><strong>Do you have a plan? (Please work with one ors will hurt)i.e. why?</strong></li>
                            <li class="fragment"><strong>How will you sell it to management? (What's the upside? Risk?)</strong></li>
                            <li class="fragment"><strong>How will you know it is effective? (Have a way to benchmark efficacy)</strong></li>
                            <li class="fragment"><strong>How will you keep things running smoothly? (Call on your trusty plugins!)</strong></li>
                            <li class="fragment"><strong>What is a good kind of low-risk project to migrate? (This varies, I'll show a struts example)</strong></li>


                        </ul>
						<!--<p>

							try pressing <a href="#" class="navigate-down">down</a>.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>-->
					</section>
					<section>
						<h2>My Story with Grails</h2>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Employer had very antiquated Struts/OJB application</li>
                            <li class="fragment">Because of technical debt work orders from customers were taking too long to do to be profitable
                                Wanted a fresh start, but could not afford </li>
                            <li class="fragment">Wanted a fresh start, but could not afford to re-write all old code</li>
                            <li class="fragment">Need a framework that allows for rapid development</li>
                            <li class="fragment">Need a solution that Java developers can quickly grasp and understand (and enjoy!)</li>
                            <li class="fragment">Can be deployed to existing infrastructure as a WAR file </li>
                        </UL>
					</section>
					<section>
						<h2>Barriers You May Encounter</h2>
                        <UL >
                            <li class="fragment">Barriers to entry from non-technical staff or managers:
                                <uL><li class="fragment">Fear of change</li><li class="fragment">Skepticism it can deliver</li></lu></uL>
                            </li>
                            <li class="fragment">A little different way of thinking to leverage Grails strengths like scaffolding</li>
                            <li class="fragment">Patience: People will resist it if it doesn't give immediate magical results, so don't promise them</li>
                            <li class="fragment">Difficult for project managers to understand defining the domain model up front saves time later (i.e. regenerating scaffolding repeatedly loses saved time)</li>
                            <li class="fragment">Difficult for project managers/managers  to understand why putting work into scaffolding templates up front saves time and money going forward (new process)</li>

                        </UL>


					</section>
                    <section>
                        <h2>Picking A Legacy Application</h2>
                        <p>It is important to pick a good legacy app candidate for introduction</p>
                        <UL >
                            <li class="fragment">Greenfield projects are always easier but can be risky if you are new to the framework – Start with some kind of internal tool
                            </li>
                            <li class="fragment">Old Struts 1.x projects can be blended easily without a lot of risk</li>
                            <li class="fragment">Easy win because people will have low expectations on such an old application</li>
                            <li class="fragment">Write unit tests for existing code in Groovy to 'wet' developer appetites (and practice)</li>


                        </UL>


                    </section>
                    <section>
                        <h2>Creating A Plan</h2>
                        <p>You must have a plan before you begin - responsible thing to do</p>
                        <UL >
                            <li class="fragment">Greenfield projects are always easier but can be risky if you are new to the framework – Start with some kind of internal tool
                            </li>
                            <li class="fragment">Old Struts 1.x projects can be blended easily without a lot of risk</li>
                            <li class="fragment">Easy win because people will have low expectations on such an old application</li>
                            <li class="fragment">Write unit tests for existing code in Groovy to 'wet' developer appetites (and practice)</li>
                            <li class="fragment">It's about business value, this is the language your management will speak. That may be the only information that actually comprehend - compute some basic numbers to help</li>


                        </UL>


                    </section>
                    <section>
                        <h2>Selling to Management</h2>
                        <p>You must have a plan before you begin - responsible thing to do</p>
                        <UL >
                            <li class="fragment">Gain development efficiencies, no constant server restarts during development</li>
                            <li class="fragment">Plugin ecosystem – won't have to re-invent the wheel so many great useful plugins to save time (and most of the source, you can contribute most of them to make them better)</li>
                            <li class="fragment">Easy for Java developers to understand (See 'Making Java Groovy by Ken Kousen')</li>
                            <li class="fragment">Still deploys as a WAR file to the container, no significant infrastructure changes</li>
                            <li class="fragment">Can build a hybrid product to bridge the gap between new a old, giving a long term plan to modernize as you go</li>


                        </UL>


                    </section>
                    <section>
                        <h2>Facilities You Will Need To Put In Place</h2>
                        <p>You'll need some of these infrastructure items</p>
                        <UL >
                            <li class="fragment">CI Server – Hudson/Jenkins most popular free choice, works great with Grails
                                 <ul><li class="fragment">
                                     setup jobs on CI Server to run tests - also add code analysis like codenarc/gmetric
                                 </li>
                                 <li class="fragment">trigger builds by watching SCM for changes</li>
                                 <li class="fragment">use coverage tools like Cobertura or Emma</li>
                                 <li class="fragment">use code analysis tools like FindBugs or CodeNarc</li>
                                     <li class="fragment">Make your CI server fun, little things like the chuck norris plugin or integration game keep developers entergized and interested (A little competition for a prize never hurts!)</li>
                                     <li class="fragment">Use a service like Cloudbees if you can't run it yourself</li>
                                 </ul>
                            </li>
                            <li class="fragment">Some kind of deployment tool. Roll your own in Grails, or use artifact deployers in Hudson, or tools like Cargo, Chef, Puppet, Ansible, Docker to help you</li>



                        </UL>


                    </section>

                    <section>
                        <h2>Struts 1 Plugin</h2>
                        <p>You'd be shocked how many big places still heavily use Struts 1!</p>
                        <UL >
                            <li class="fragment">Lets you merge Struts applications into a Grails application

                            </li>

                            <li class="fragment">Often overlooked option that works quite well to get Grails 'in the door' to help aging applications</li>
                            <li class="fragment">You can even write Struts actions in Groovy</li>
                            <li class="fragment">Easy win to run old legacy code and new Grails functionality in parallel</li>
                            <li class="fragment">Version on Grails Portal currently only works with Grails 1.3.x. For Grails 2.x, go to https://github.com/rvanderwerf/grails-struts1
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Struts 1 Plugin</h2>

                        <UL >
                            <li class="fragment">Handle exceptions well for legacy code. In Grails 1.3.x, exceptions on a 500 server error page in your legacy application will be wrapped in a Grails stack. This will frequently cause blame on Grails for legacy bugs and give opponents ammunition to not go forward with Grails. Stack traces in Grails 2 are much cleaner and also avoid this error
                                     <code><pre>
multipartResolver(org.codehaus.grails.struts.StrutsAwareMultipartResolver) {
    strutsActionExtension = ".do"

}
                                     </pre></code>
                            </li>

                            <li class="fragment">(If using Grails 2.x version from Github, the plugin does this for you)</li>
                            <li class="fragment">If Using Grails 2, the ControllerActionProxy (TODO to fix this) </li>
                        </UL>


                    </section>
                    <section>
                        <h2>Struts 1 Plugin</h2>
                             <p>Demo</p>



                    </section>

                    <section>
                        <h2>Flex / BlazeDS Plugin</h2>
                        <p>Another one I've run into before.. you can use this plugin Burt Beckwith wrote a while back</p>
                        <UL >
                            <li class="fragment">Lets you blend Grails, Struts, and Spring Security

                            </li>

                            <li class="fragment">I've run into quite a few of these 'quick' apps that were quick fixes that won't die</li>
                            <li class="fragment">Anything to externalize properties better, often I've seen people hard-code into flash files properties (yuk!)</li>
                            <li class="fragment">Has not been updated in a few years, may have issues with Grails 2.3+</li>
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Flex / BlazeDS Plugin</h2>
                        <p>Another one I've run into before.. you can use this plugin Burt Beckwith wrote a while back</p>
                        <UL >
                            <li class="fragment">Lets you blend Grails, Struts, and Spring Security

                            </li>

                            <li class="fragment">I've run into quite a few of these 'quick' apps that were quick fixes that won't die - could be another easy vector in</li>
                            <li class="fragment">Anything to externalize properties better, often I've seen people hard-code into flash files properties (yuk!)</li>
                            <li class="fragment">Has a nice user guide and docs thanks to Burt</li>
                            <li class="fragment">Has not been updated in a few years, may have issues with Grails 2.3+</li>
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Google GWT </h2>
                        <p>Another good candidate - may not be best for super complex projects</p>
                        <UL >
                            <li class="fragment">Let's you combine a GWT project with Grails

                            </li>

                            <li class="fragment">I have a GWT legacy app, this would be a good candidate if you have one too to get Grails in the door</li>
                            <li class="fragment">1.0 status, less than 6 months since last update</li>
                            <li class="fragment">If you can find a reason to ditch that horrific GWT maven script for compilation, that alone is a win</li>
                            <li class="fragment">Has several maintainers including Peter Ledbrook :) and a good tutorial and documentation</li>
                            <li class="fragment">There is also a SmartGWT plugin but 2 years since last update</li>
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Continuous Integration Server</h2>

                        <UL >
                            <li class="fragment">Do you have a server to run it on? If yes, you have lots of options:
                                <ul>
                                    <li class="fragment">Jenkins / Hudson (recommended for Grails)</li>
                                    <li class="fragment">Cruise Control</li>
                                    <li class="fragment">Continuum</li>
                                    <li class="fragment">Team City</li>
                                    <li class="fragment">Travis</li>
                                    <li class="fragment">Bamboo</li>
                                </ul>
                            </li>

                            <li class="fragment">If no there are cloud based options:
                            <ul>
                                <li class="fragment">Cloudbees</li>
                                <li class="fragment">drone.io</li>
                                <li class="fragment">CircleCi</li>
                                <li class="fragment">CodeShip</li>
                                <li class="fragment">Travis</li>
                                <li class="fragment">Elastic Bamboo</li>
                                <li class="fragment">Run your own instance of Jenkins/Hudson on a EC2 or other cloud provider OS image (and maintain yourself)</li>
                            </ul></li>

                        </UL>


                    </section>
                    <section>
                        <h2>Database Reverse Engineering</h2>

                        <UL >
                            <li class="fragment">2 Common Options to generate domain model from Database
                                <ul>
                                    <li class="fragment">Grails Reverse Engineering Plugin (Only works properly on a separate 1.3.x project due to Hibernate version issues)</li>
                                    <li class="fragment">The GRails Application Generator (GRAG) Standalone application</li>

                                </ul>
                            </li>

                            <li class="fragment">Mirror domain objects to legacy tables is key to implementing new features in Grails and leaving legacy code alone (If you won't have hbm files to import to Grails)

                            </li>
                            <li class="fragment">
                                Mirror domain objects to legacy tables is key to implementing new features in Grails and leaving legacy code alone (If you won't have hbm files to import to Grails)
                            </li>
                            <li class="fragment">When you have a domain object and a legacy bean make sure you handle cache consistency when writing objects</li>
                        </UL>


                    </section>
                    <section>
                        <h2>Database Management</h2>

                        <UL >
                            <li class="fragment">Database change management
                                <ul>
                                    <li class="fragment">Use Grails Database Migration Plugin (wraps Liquibase)</li>
                                    <li class="fragment">Liquibase Directly</li>
                                    <li class="fragment">Most other plugins like liquibase and autobase are deprecated in favor of the Database Migration Plugin</li>
                                    <li class="fragment">Your DBAs may already have a process and procedure - you may not win this one</li>
                                </ul>
                            </li>

                            <li class="fragment">Do NOT use the 'dbCreate'  option in Grails for any kind of production system – it is not smart enough to handle field renaming of columns
                            </li>
                            <li class="fragment">
                                If using the Grails Database Migration Plugin, use the changelog.groovy format and not the xml format, due to bugs in the functionality that handles xml changelogs in the plugin
                            </li>
                            <li class="fragment">If you must use the xml format, use Liquibase directly</li>
                            <li class="fragment">Create separate project and install the migration plugin just for it (Due to Hibernate 3 vs 4 versioning issues)</li>
                        </UL>


                    </section>
                    <section>
                        <h2>Modularity</h2>

                        <UL >
                            <li class="fragment">Split up major functional areas of the legacy applications into separate plugins, but keep some things in mind:
                                <ul>
                                    <li class="fragment">JSPs do not serve well from plugins, start with just the java code, then work your way to converting JSPs to GSPs called from the plugins</li>
                                    <li class="fragment">Beware of cyclic dependencies, Grails does not tolerate them (Good design should avoid this, but sometimes it's hard to break of legacy spaghetti code)</li>
                                    <li class="fragment">Do not use the lib folder for jar files, keep dependencies clean....</li>
                                </ul>
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Dependency Management</h2>

                        <UL >
                            <li class="fragment">When migrating legacy app to Grails format, and you use Ant and not Maven, follow these tips:
                                <ul>
                                    <li class="fragment">Don't just copy jars into the grails/lib folder, set up dependencies in BuildConfig.groovy as much as possible(If no repo, use Bintray or Artifactory)</li>
                                    <li class="fragment">Run dependency-report  to help work out conflicts</li>
                                    <li class="fragment">Do not use the lib folder for jar files, keep dependencies clean....</li>
                                </ul>
                            </li>
                            <li class="fragment">
                                If your legacy project is Maven based, Grails 2.1 has excellent Maven support built in via 'grails create-pom' command  (POM demo struts-demo21)
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Maven Project Management</h2>

                        <UL >
                            <li class="fragment">Grails 2.1+ required:
                                grails create-pom <code><pre><company.group></pre></code>

                            </li>
                            <li class="fragment">
                                Uses created pom.xml to build and manage dependencies instead of BuildConfig.groovy
                            </li>
                            <li class="fragment">Advantage is easier for developers used to pure Maven build and depenency management instead of Ivy</li>
                            <li class="fragment">Very new so there may be dragons ahead, but so far works well</li>
                            <li class="fragment">Could work around some build/packaging bugs on Ivy (Concurrent building, etc)</li>
                            <li class="fragment">Available goals by default:
                                validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy</li>


                        </UL>


                    </section>
                    <section>
                        <h2>Maven Project Management</h2>

                        <UL >
                            <li class="fragment">Multi-module support (From docs):
                                <code><pre>
create-multi-project-build

grails create-app myapp
grails create-plugin plugin-a
grails create-plugin plugin-b
grails create-multi-project-build com.mycompany:parent:1.0-SNAPSHOT
mvn install
                                </pre></code>

                            </li>
                        </UL>


                    </section>
                    <section>
                        <h2>Release Plugin</h2>

                        <UL >
                            <li class="fragment">Used to push plugins to maven repository (or your own plugins to the public!)



                            </li>
                            <li class="fragment">Add the following to your BuildConfig.groovy:
                            <code><pre>
       grails.project.repos.default = "PluginSnapShots"
	   grails.project.repos.PluginSnapShots.url = "http://127.0.0.1:8081/artifactory/plugins-snapshot-local"
       grails.project.repos.PluginSnapShots.type = "maven"
       grails.project.repos.PluginSnapShots.username = "admin"
       grails.project.repos.PluginSnapShots.password = "password"

                            </pre></code>
                            </li>
                        </UL>


                    </section>
                    <section>
                        <h2>Localization Plugin</h2>

                        <UL >
                            <li class="fragment">Store your i18n message bundles in the database</li>
                            <li class="fragment">Can Import legacy i18n property files from most systems</li>
                            <li class="fragment">Provides Caching</li>
                            <li class="fragment">allows changes to labels on the app without a new build</li>
                            <li class="fragment">Store your i18n message bundles in the database</li>
                            <li class="fragment">Lets non-technical users fill in missing labels for you(and a value add to sell when switching to Grails)

                            </li>
                            <li class="fragment">Combine with the filterpane plugin to add searching ability</li>
                        </UL>


                    </section>
                    <section>
                        <h2>Filterpane Plugin</h2>

                        <UL >
                            <li class="fragment">Great for adding search ability for larger number of legacy reverse engineered domain objects (and rows within those)</li>
                            <li class="fragment">Simple to install and implement: add a new action to your controller and add some parameters to your list view page
                            </li>

                        </UL>


                    </section>
                    <section>
                        <h2>Clustering</h2>

                        <UL >
                            <li class="fragment">Ehcache or new Spring Cache</li>
                            <li class="fragment">Use your servlet containers http session clustering or use Terracotta

                            </li>
                            <li class="fragment">Use Terracotta open source edition for visibiity and cache management of level2 and general cache management</li>

                        </UL>


                    </section>
                    <section>
                    <section>
                        <h2>Useful resources</h2>

                        <UL style="list-style-type: none;">
                            <li>http://grails.org/plugin/filterpane</li>
                            <li>http://grails.org/plugin/localizations</li>
                            <li>http://grag.sourceforge.net/http://grails-plugins.github.com/grails-database-migration/</li>
                            <li>http://grails.org/plugin/struts1</li>
                            <li>https://github.com/rvanderwerf/grails-struts1</li>
                            <li>http://terracotta.org/downloads/open-source/catalog</li>
                            <li>http://grails.org/plugin/release</li>
                            <li>http://grails.org/plugin/db-reverse-engineer</li>
                            <li>http://grails-plugins.github.io/grails-flex/</li>
                        </UL>
                    </section>

                </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
