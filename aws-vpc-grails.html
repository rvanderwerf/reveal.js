<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Deploying, Scaling, and Running Grails on AWS and VPC</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
        <!--<link rel="stylesheet" type="text/css" href="fdw-demo.css" media="all" />-->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="style2.css">
		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h2>Deploying, Scaling, and Running Grails on AWS and VPC</h2>
					<h3>Learn the ropes of VPC networking and working with Grails, Gradle and AWS</h3>
                    <h4>G3 Summit 2017</h4>
                    <img style="border:none; background:white" src="oci-logo-smaller.png" alt="OCI" />

					<p>
						<small>Created by <a href="http://rvanderwerf.blogspot.com">Ryan Vanderwerf</a> / <a href="http://twitter.com/RyanVanderwerf">@RyanVanderwerf</a></small>
					</p>
				</section>

                <section>
                    <h2>About Me</h2>

                    <ul>
                        <li>Software Engineer on Grails team at OCI (Home to Grails)</li>
                        <li>Father of 2 kiddos under 13</li>
                        <li>Co-Chair Austin Groovy and Grails User Group</li>
                        <li>Co-Author of Effective Gradle Implementation Video Series on Packt</li>
                        <li>I like to modify all the things (cars, home automation, phones, gadgets)</li>
                        <li>Into lots of Devops/Linux stuff, AWS, and Conversational AI</li>
                        <li>OCI - If you need Grails or Groovy support we can help!</li>
                    </ul>
                </section>

				<section>
                    <h2>What We Will Cover</h2>
                    <!--<h2 class="text-animation">What We Will Cover</h2>-->


                    <ul>
                        <li class="fragment"><strong>VPC Network Basics</strong></li>
                        <li class="fragment"><strong>S3 Storage Service</strong></li>
                        <li class="fragment"><strong>Grails 3 AWS Plugins</strong></li>
                        <li class="fragment"><strong>Gradle AWS Plugins</strong></li>
                        <li class="fragment">sshoogr</li>
                        <li class="fragment"><strong>Elastic Load Balancers</strong></li>
                        <li class="fragment"><strong>Others misc tips</strong></li>

                    </ul>

                    <aside class="notes">
                        Top level overview
                    </aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>


                           <h2>VPC - Virtual Private Cloud</h2>



                        <ul style="list-style-type: none;">
											   		<li class="fragment"><strong>Proper Architecture</strong></li>
                            <li class="fragment"><strong>Routing</strong></li>
                            <li class="fragment"><strong>NAT</strong></li>
                            <li class="fragment"><strong>ACL Firewall</strong></li>
                            <li class="fragment"><strong>Suggested Subnets</strong></li>
                            <li class="fragment"><strong>Security Groups</strong></li>
                            <li class="fragment"><strong>DHCP Tips</strong></li>
														<li class="fragment"><strong>VPC Flow Logs</strong></li>
													  <li class="fragment"><strong>S3 Endpoints</strong></li>
														<li class="fragment"><strong>VPC Peering</strong></li>
														<li class="fragment"><strong>ClassicLink</strong></li>
                            <li class="fragment"><strong>Others misc tips</strong></li>

                        </ul>
						<!--<p>

							try pressing <a href="#" class="navigate-down">down</a>.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>-->
					</section>
                    <section>
                        <h2>VPC Terms</h2>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Region - Geographic region that consists a group of availability zones</li>
                            <li class="fragment">Availability Zone - Collection of data centers with 50-100 miles of each other (AZ)</li>
                            <li class="fragment">Multi-AZ - Ability to spread application across availability zones</li>
                            <li class="fragment">Subnet - group of IP address that are addressed as a block</li>
                            <li class="fragment">CIDR Block - a higher level block of many addresses and subnets</li>
                        </UL>
                    </section>
                    <section>
                        <h2>AWS Services</h2>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Route53 - Amazon's DNS Service</li>
                            <li class="fragment">EC2 Amazon's Compute Service</li>
                            <li class="fragment">S3 - Amazon's Simple Storage Service (Object Storage)</li>
                            <li class="fragment">EBS - Elastic Block Storage (Like Network Attached Hard Disk)</li>
                            <li class="fragment">Lambda - Amazon's Serverless App System</li>
                            <li class="fragment">ELB - Elastic Load Balancer (1st generation)</li>

                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Regions</h2>
                        <img src="regions.jpg"  />

                    </section>
                    <section>
                        <h2>VPC - Availability Zones</h2>
                        <img src="zones.gif"  />

                    </section>
                    <section>
						<h2>VPC Overview</h2>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Now required on new AWS accounts</li>
                            <li class="fragment">Very different than EC2 'Classic' which has no private network layer</li>
                            <li class="fragment">Costs nothing extra - you have nothing to lose</li>
                        </UL>
					</section>


					<section>
						<h2>VPC - Routing/Subnets</h2>
                        <img src="vpc-subnet-default.png"  />

					</section>

					<section>
						<h2>VPC - Routing/Subnets</h2>
                        <img src="vpc-subnet-3rdsubnet.png"  />
					</section>
                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <h3> adding a 3rd subnet - this gives a helping hand</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">auto-scaling instances can access internet through NAT</li>
                            <li class="fragment">Web Servers, Web facing apps can live behind ELB yet be able to run OS updates </li>
                            <li class="fragment">S3 Buckets accessible</li>
                            <li class="fragment">Can access your secure subnet as well</li>

                        </UL>
                    </section>
										<section>
                        <h2>VPC - Routing/Subnets - Redundancy</h2>
                        <img src="CrossAZVPC.png"  />

                    </section>

										<section>
                        <h2>VPC - Routing/Subnets - Redundancy</h2>
                        <h3>Now you can add subnets each on a different AZ - You can be 3 9's!</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Create 4 subnets - 2 DMZ's across 2 AZ &amp; 2 secure subnets across AZs too!</li>
                            <li class="fragment">Web Servers, Web facing apps can live behind ELB yet be able to run OS updates </li>
                            <li class="fragment">S3 Buckets accessible</li>
                            <li class="fragment">Can access your secure subnet as well</li>
														<li class="fragment">Use Route53 Health Checks to failover to backup Region or S3 Static site</li>
														<li class="fragment">Also can use VPC Peering (Doesn't work across regions though!)</li>
                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <img src="vpc-overview-big-3rdsubnet.png"  />

                    </section>

                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <img src="aws-screenshot-console-subnet.png"  />

                    </section>

                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <img src="aws-vpc-screenshot-console-subnet-details.png"  />

                    </section>
                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <img src="aws-vpc-console-route-table.png"  />

                    </section>
                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <h3>Security ACLs</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">ACLs like a full firewall - unlike groups</li>
                            <li class="fragment">Protect subnets instead of EC2 instances</li>
                            <li class="fragment">Processed in order of rule #</li>
                            <li class="fragment">ACLs are stateless - responses to inbound bound by outbound rules</li>
                            <li class="fragment">To accommodate  various clients and OSs open ephemeral ports 1024-65535 then block malicous ports</li>
                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <h3>Security Groups</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment roll-in">VPC Security Groups are different than EC2 Groups - use different and descriptive names if both used</li>
                            <li class="fragment">You can use a security group ID (starting with sgXXXXX) in most places where IPs can be entered </li>
                            <li class="fragment">Processed in order of rule #</li>
                            <li class="fragment">ACLs are stateless - responses to inbound bound by outbound rules</li>
                            <li class="fragment">To accommodate  various clients and OSs open ephemeral ports 1024-65535 then block malicous ports</li>
                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Routing/Subnets</h2>
                        <h3>DHCP Options</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Determine What DNS DHCP clients use</li>
                            <li class="fragment">Can do things like set default domain, whether to use internal or external DNS for your VPC</li>
                            <li class="fragment">From Web UI, assign only 1 option set at a time</li>
                            <li class="fragment">Using amazon provided DNS, using naming scheme of 10.0.1.x, default domain ec2.internal</li>
                            <li class="fragment">Can assign your own DNS server names, or even Netbios name servers or NTP servers</li>
                            <li class="fragment">Options are semicolor delimited name value pairs, i.e. 'domain-name=something.com; domain-name-severs=AmazonProvidedDNSs</li>
                        </UL>
                    </section>
										<section>
                        <h2>VPC - Flow Logs</h2>
                        <h3>Flow Logs - monitor your traffic!</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Log your VPC Traffic into Cloudwatch Logs</li>
                            <li class="fragment">Pay $.50/GiB to injest logs, $0.03/GiB to archive them</li>
                            <li class="fragment">Cannot log Amazon DNS traffic, Windows License Activation, DHCP traffic</li>
                            <li class="fragment">Use tools like Sumologic or ELK stack to ingest</li>
                            <li class="fragment">Can be used for a more complete IDS solution vs simple proxy or host based</li>
                            <li class="fragment">You may need this for security compliance</li>
                        </UL>
                    </section>
										<section>
                        <h2>VPC - Peering</h2>
                        <h3>Peering - Link VPCs Together</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Link VPCs together across AZs</li>
                            <li class="fragment">Cannot peer in between regions</li>
                            <li class="fragment">Can link VPCs across accounts</li>
                            <li class="fragment">Must not have overlapping CIDR blocks</li>
                            <li class="fragment">Can be used with Placement groups with some limitations</li>
                            <li class="fragment">Private DNS and Security Groups do not work between peers</li>
                        </UL>
                    </section>
										<section>
												<h2>VPC - Peering</h2>

												  <img src="one-to-two-vpcs-flying-v.png"  />
													<p> (From AWS Docs)
										</section>

										<section>
												<h2>VPC - S3 Endpoints</h2>
												<h3>S3 Endpoints - Speed Up S3 Access!</h3>
												<UL style="list-style-type: none;">
														<li class="fragment">Easy to add - if you are not doing this you should!</li>
														<li class="fragment">Works with some AWS servicse like Elastic Beanstalk, Opsworks, etc with limits</li>
														<li class="fragment">Uses IAM policies to control access</li>
														<li class="fragment">Now S3 traffic doesn't leave AWS network - huge boost!</li>
												</UL>
										</section>
                    <section>
                        <h2>VPC - IAM Roles</h2>

                        <UL style="list-style-type: none;">
                            <li class="fragment">Don't use root account anymore. Traditional security page is retired</li>
														<li class="fragment">Use MFA Authentication device for all IAM users on console - hardware or phone app</li>
                            <li class="fragment">Set up your IAM roles for each user and use designated login url they give you</li>
                            <li class="fragment">Use resource level security with IAM to tier access to instances/resources</li>
                            <li class="fragment">Test your security with real logins - it's easy to mess these up</li>
                            <li class="fragment">Use policy simulator at the very least!
                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Misc EC2 Tips</h2>

                        <UL style="list-style-type: none;">
                            <li class="fragment">Rebooting a machine from console will keep instance in place and ephemeral storage(OS reboot faster)</li>
                            <li class="fragment">If you issue an 'stop' command you machine will move and lose ephemeral state</li>

                        </UL>
                    </section>
                    <section>
                        <h2>VPC - VPN Tips</h2>

                        <UL style="list-style-type: none;">

                            <li class="fragment">Use OpenVPN instead of metered AWS VPN - it runs fine on a tiny instance- save $$</li>
                            <li class="fragment">Use OpenVPN client to leave remote servers connected to VPC - it auto-reconnects</li>

                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Misc EC2 Tips - Elastic Load Balancer</h2>

                        <UL style="list-style-type: none;">
                            <li class="fragment">Create internal ELB's inside your vpc for microservices</li>
                            <li class="fragment">There are 2 types: ELB and ALB (Application Load Balancer)</li>
                            <li class="fragment">ALB - point to a target group for an application instead of a server
                            <li class="fragment">Limit 3600s timeout on idle max now</li>
														<li class="fragment">Cannot use sticky source IP with HTTPS!</li>
                            <li class="fragment">Use Haproxy for anything very advanced, can accommodate many options</li>

                        </UL>
                    </section>
                    <section>
                        <h2>VPC - Misc EC2 Tips</h2>

                        <UL style="list-style-type: none;">
                            <li class="fragment">EBS Based Instances are the way to go for most common use </li>
                            <li class="fragment">Use EBS backed instances for anything not build for cloud</li>
                            <li class="fragment">If you can build server on the fly with automation then throw away use ephemeral</li>
                            <li class="fragment">EBS backed instances have no swap by default - be sure to specify ephemeral disks on launch, use as swap</li>
                            <li class="fragment">EBS backed instances have no ephemeral disks on by default be sure to use them on launch of instance and AMIs</li>
                        </UL>
                    </section>
                </section>
                <section>
				    <section>
					<h2>S3 Storage</h2>

                    <UL style="list-style-type: none;">
                        <li class="fragment">Limitations</li>
                        <li class="fragment">Common tools</li>



                    </UL>
                    </section>
                    <section>
                        <h2>S3 Storage</h2>

                        <UL style="list-style-type: none;">
                            <h3>Limitations - Eventual Consistency</h3>
                            <li class="fragment">This means after write/update it will EVENTUALLY be consistent</li>
                            <li class="fragment">Make your app retry on read fail - it might not be synced yet</li>
                            <li class="fragment">As of 2015 US-East has same consistency as other regions</li>
                        </UL>
                    </section>
                    <section>
                        <h2>S3 Storage</h2>

                        <UL style="list-style-type: none;">
                            <h3>Limitations - large files</h3>
                            <li class="fragment">Files over 5GB supported, but most tools don't handle properly</li>
                            <li class="fragment">S3 Tools must support mime/multipart</li>
                            <li class="fragment">s3cmd(Linux) / CyberDuck 4(Mac/Win32) / S3 Browser(Win32) / Cloudberry Explorer(PRO Win32) / Bucket Explorer(all)</li>
                            <li class="fragment">File > 5GB files work with these tools, it is EXTREMELY slow</li>
                        </UL>
                    </section>
                    <section>
                        <h2>S3 Storage</h2>

                        <UL style="list-style-type: none;">
                            <h3>Tools</h3>
                            <li class="fragment">s3fs - mount as filesystem - but >5GB files broken, beware of consistency!</li>
                            <li class="fragment">Make sure FUSE is in kernel</li>
                            <li class="fragment">s3cmd is best free command line tools</li>
                            <li class="fragment">Bucket Explorer & CloudBerry Backup are good solid windows clients that parallelize multi-part uploads to ease the pain</li>
                            <li class="fragment">s3 Browser is ok free tool</li>
                            <li class="fragment">For s3fs install on Ubuntu: http://zentraal.com/docs/installing-s3fs-on-ubuntu/</li>
                        </UL>
                    </section>


                    <section>
                        <h2>S3 Storage</h2>
                        <h2>Grails S3</h2>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Use the AWS Gradle plugin instead of older S3 Grails plugins</li>
                            <li class="fragment">With Grails 3+ based on Gradle, we use Gradle plugins for this now</li>
                            <li class="fragment">S3 Gradle Plugin Demo
                        </UL>
                    </section>
				</section>
                <section>
                    <section>
                        <h2>General AWS Grails Plugins (3.x)</h2>

                        <UL style="list-style-type: none;">

                            <li class="fragment">Grails AWS Plugin - never finished porting to Grails 3</li>
                            <li class="fragment">AWS SDK Plugin</li>
                            <li class="fragment">Karman Plugin - Cloud File Karman library plugin</li>

                        </UL>
                        </section>


                    <section>
                        <h2>General AWS Grails Plugins - Karman Plugin</h2>


                        <UL style="list-style-type: none;">

                            <li class="fragment">Standardized interface for storing / retrieving files in the cloud</li>
                            <li class="fragment">
                                Supports AWS, OpenStack, Rackspace, and Azure
                            </li>
                            <li class="fragment">Source at https://github.com/bertramdev/karman-core</li>
                            <li class="fragment">http://bertramdev.github.io/karman/guide/</li>
                            <li class="fragment">Uses LocalStorage provider by default</li>

                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - Karman Plugin</h2>

                        <pre><code data-trim data-noescape>
provider = StorageProvider.create(
    provider: 's3',
    accessKey: ACCESS_KEY,
    secretKey: SECRET_KEY,
    //optional
    region: 'eu-west-1',
    protocol: 'https',
    useGzip: false,
    keepAlive: false,
    maxConnections: 50
)

//example getting file contents
def file = provider['mybucket']['example.txt']
return file.text
                        </code></pre>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <UL style="list-style-type: none;">

                            <li class="fragment">Wrapper for AWS Java SDK</li>
                            <li class="fragment">
                                This is the one to use for most powerful work of services - can access select AWS services

                            </li>
                            <li class="fragment">Uses AWS Web Service API wrapped in a Java Library</li>
                            <li class="fragment">If a service you want isn't supported by the plugin you can use Java lib directly</li>
                            <li class="fragment">Recently pared down to more limited services with more value</li>
                            <li class="fragment">Works with Grails 3!</li>


                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>Services Supported</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">DynamoDB</li>
                            <li class="fragment">S3</li>
                            <li class="fragment">Kinesis</li>
                            <li class="fragment">SES (Simple Email Service)</li>
                            <li class="fragment">SNS (Simple Notification Service)</li>
                            <li class="fragment">SQS</li>
                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>DynamoDB</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Uses data modeling based on DynamoDBMapper</li>
                            <li class="fragment">There is no current GORM for DynamoDB so this is the best bet</li>
                            <li class="fragment">Use annotations like @DynamoDBTable on bean to define table</li>
                            <li class="fragment">Use @DynamoDBAttribute on attributes to define attibutes for table</li>
                            <li class="fragment">Docs/Examples at: https://github.com/agorapulse/grails-aws-sdk/tree/master/grails-aws-sdk-dynamodb</li>

                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>DynamoDB</h3>
                        <UL style="list-style-type: none;">

                            <li>Demo</li>

                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>S3</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">AmazonS3Service - manage buckets, upload/download and delete files</li>
                            <li class="fragment">Extend AmazonS3Service on each bucket for operations per bucket </li>
                            <li class="fragment">Declare static final BUCKET_NAME on extended service to set bucket </li>
                            <li class="fragment">Docs here: https://github.com/agorapulse/grails-aws-sdk/tree/master/grails-aws-sdk-s3</li>
                            <!--
                                                        <li class="fragment">s3browser demo</li>
                            -->
                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>S3 - Demo 1</h3>

                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>S3 - Demo 2 S3 + Lambda function</h3>

                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>Kinesis</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Kinesis is a message broker for distributed logs similar to Kafka</li>
                            <li class="fragment">Good comparison between the two: http://www.dani-sola.com/kafka-vs-kinesis/</li>
                            <li class="fragment">AmazonKinesisService is the main artefact</li>
                            <li class="fragment">Includes four abstract utility classes to consume streams</li>
                            <li class="fragment">If you want tight integration with Lambda this is helpful</li>
                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>Kinesis / Lambda Demo</h3>
                        <UL style="list-style-type: none;">
                            <li class="fragment">Grails App sends message to stream </li>
                            <li class="fragment">Lambda consumer is invoked and receives message</li>
                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>SES (Simple Email Service)</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Allows sending email via plain text or via GSP templates</li>
                            <li class="fragment">Provides artefacts AmazonSESService and AmazonSESTemplateService</li>
                            <li class="fragment">Also supports certain types of attachments (Unsupported types at http://docs.aws.amazon.com/ses/latest/DeveloperGuide/mime-types.html</li>
                            <li class="fragment">Doesn't handle any SES management (use the AWS console) - just sending</li>

                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>SQS (Simple Queue Service)</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Provides Artefact AmazonSQSService</li>
                            <li class="fragment">Can manage queues</li>
                            <li class="fragment">Can send, receive and delete messages</li>
                            <li class="fragment">A typical use would be a Quartz job to poll for messages</li>
                            <li class="fragment">Messages can remain in queue for 12 hours</li>


                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>SNS (Simple Notification Service)</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Provides Artefact AmazonSNSService</li>
                            <li class="fragment">Allows notifications between apps, valuable for Lambda</li>
                            <li class="fragment">Supports registering and pushing to mobile</li>
                            <li class="fragment">Can send, receive and delete messages</li>
                            <li class="fragment">Also manages topics (create/delete/publish)</li>
                            <li class="fragment">Sub/Unsub to topics (also via SMS!) </li>

                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Grails Plugins - AWS SDK Plugin</h2>


                        <h3>SNS / Lambda Demo</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Sends a SNS notificatione</li>
                            <li class="fragment">Tiggers a Lambda function to receive it</li>

                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Gradle Plugins</h2>
                        <p>With Grails 3 being based on Boot and Gradle, many old plugins became obsolete. We now use Gradle plugins to manage these things.</p>

                        <UL style="list-style-type: none;">

                            <li class="fragment">Gradle CDN Asset Pipeline plugin - push assets to CDNs</li>
                            <li class="fragment">Gradle AWS Plugin - group of plugins does most things AWS</li>
                            <li class="fragment">Gradle Beanstalk Plugin - plugin to deploy WARs</li>

                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Gradle Plugins - CDN Asset Pipeline plugin</h2>


                        <h3>CDN Asset Pipeline plugin</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Automatically upload asset-pipeline static assets to a CDN</li>
                            <li class="fragment">Docs/Source at https://github.com/agorapulse/gradle-asset-pipeline-cdn</li>
                            <li class="fragment">Only supports S3 storage services</li>

                        </UL>
                    </section>

                    <section>
                        <h2>General AWS Gradle Plugins - AWS Gradle Plugin</h2>


                        <h3>AWS Gradle Plugin</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Source at https://github.com/classmethod/gradle-aws-plugin</li>
                            <li class="fragment">Works great for tasks like publishing Lambda skills (see Alexa talk)</li>
                            <li class="fragment">Great for automation tasks related to AWS</li>
                            <li class="fragment">Lazybones template for AWS Skills: https://github.com/rvanderwerf/alexa-groovy-lazybones</li>

                        </UL>
                    </section>
                    <section>
                        <h2>General AWS Gradle Plugins - Beanstalk Plugin</h2>


                        <h3>Beanstalk Gradle Plugin</h3>
                        <UL style="list-style-type: none;">

                            <li class="fragment">Source at https://github.com/EvidentSolutions/gradle-beanstalk-plugin</li>
                            <li class="fragment">Deploys WAR file to Elastic Beanstalk</li>
                            <li class="fragment">Great for Grails Apps too!</li>
                            <li class="fragment">@benorama's Great example guide at https://goo.gl/x163Fv</li>

                        </UL>
                    </section>
                </section>

                <section>

                    <section>
                        <h2>sshoogr</h2>

                        <UL style="list-style-type: none;">
                            <li class="fragment">sshoogr - Groovy-based DSL library for working with remote servers through SSH - DSL Allows:
                            <ul>
                            <li class="fragment">connecting</li>
                            <li class="fragment">executing remote commands</li>
                            <li class="fragment">copying files and directories</li>
                            <li class="fragment">creating tunnels in a simple and concise way</li>
                            <li class="fragment">works as a gradle plugin</li>
                            <li class="fragment">sshoogr+gradle+DSL == Groovy Based Ansible???</li>
                            <li class="fragment">Repos at https://github.com/aestasit/sshoogr</li>
                        </ul>



                        </UL>
                    </section>
										<!--<section>
												<h2>gramazon</h2>

												<UL style="list-style-type: none;">

														<li class="fragment">gramazon - Groovy based API for Amazon EC2 (not maintained?)
														<ul>
																<li class="fragment">interface library that can be used to interact with the Amazon EC2 system and control server resources on demand from your Groovy scripts or from Gradle, using a plug-in.></li>
																<li class="fragment">uses gradle to run commands</li>
																<li class="fragment">maybe could be used as basis for a groovy version of chef or puppet?</li>
																<li class="fragment">gradle project template available as well as 'gradle-ssh-plugin'</li>
												</ul></li>
												<p>Repos for this https://github.com/aestasit/gramazon-gradle</p>


												</UL>
										</section>-->
                </section>
                <!--<section>
                    <section>
                        <h2>Autoscaling Overview</h2>

                        <UL style="list-style-type: none;">

                            <li class="fragment">Autoscaling can be used for fault-tolernance (min 1)</li>
                            <li class="fragment">Most efficient user of instance</li>
                            <li class="fragment">Set Policies using templates for how more servers created/terminated</li>
                            <li class="fragment">Control Spot instance bit price</li>
                            <li class="fragment">You app must be able to handle 'sudden death'</li>
                            <li class="fragment">Make sure your debug your AMI BEFORE adding to a autoscale group (debugging failed autoscaled instances is no way to go through life son!) </li>

                        </UL>
                    </section>

                    <section>
                        <h2>Autoscaling Setup</h2>

                        <UL style="list-style-type: none;">

                            <li class="fragment">Step 1: Create Launch Config(Just like launching instance but a template)</li>
                            <li class="fragment">Step 2: Create Autoscale Group</li>
                            <li class="fragment">Step 3: Create Policies</li>
                            <li class="fragment">Demo web console now too</li>


                        </UL>
                    </section>-->
										<!--<section>
												<h2>Use CodeDeploy with ASG</h2>

												<UL style="list-style-type: none;">

														<li class="fragment">Enable app to have Codedeploy payload</li>
														<li class="fragment">With ASG adds a node, app is auto-deployed!</li>
                            <li class="fragment">Use Docker with ASG: https://github.com/andyshinn/docker-codedeploy-example</li>


												</UL>
										</section>
										<section>
												<h2>Cloudwatch and Autoscaling - Regular metrics suck!</h2>

												<UL style="list-style-type: none;">

														<li class="fragment">Custom metrics are the way to go....http://goo.gl/gGh0jO</li>
														<li class="fragment">Why? CPU usage and network IO not good enough to scale!</li>
														<li class="fragment">Use health check plugins - add your own metrics</li>
														<li class="fragment">You can mix ELB with ASG's and have ASG monitor ELB health</li>


												</UL>
										</section>-->

                </section>
                <section>
                    <section>
                        <h2>Example source:</h2>

                        <UL style="list-style-type: none;">

                            <li>Grails 3 Demo with S3 and DynamoDB https://github.com/vanderfox/grails-aws-sdk-demo</li>
                            <li>Gradle Plugin S3 Demo</li>
                            <li>Lambda Serverless Demo https://github.com/rvanderwerf/kinesisLambdaConsumerDemo</li>
                            <li>Grails AWS SDK Plugin https://github.com/agorapulse/grails-aws-sdk/</li>
                            <li>Gradle AWS Plugin https://github.com/classmethod/gradle-aws-plugin</li>
                            <li>sshoogr Gradle plugin https://github.com/aestasit/sshoogr</li>

                        </UL>
                    </section>
                    <section>
                        <h2>Useful resources</h2>

                        <UL style="list-style-type: none;">

                            <li>Gradle beanstalk plugin https://github.com/EvidentSolutions/gradle-beanstalk-plugin</li>
                            <li>Old but useful Elastic Beanstalk Intro @ Bobby Warner's Blog: http://goo.gl/PQaAxx</li>
                            <li>Grails AWS SDK Plugin https://github.com/agorapulse/grails-aws-sdk/</li>
                            <li>Gradle AWS Plugin https://github.com/classmethod/gradle-aws-plugin</li>
                            <li>sshoogr Gradle plugin https://github.com/aestasit/sshoogr</li>

                        </UL>
                    </section>

                    <section>
                        <h2>Useful resources</h2>

                        <UL style="list-style-type: none;">


                            <li>Another Beanstalk: http://goo.gl/0SeYyS</li>
                            <li>Oracle, EBS, and other Tips from AWS Architect Tom Laszewski http://cloudconclave.blogspot.com/</li>
                            <li>Building an S3 Browser in Grails http://goo.gl/u6lRYB</li>
                            <li>VPC Deep Dive Slides http://goo.gl/o4g8yj</li>
                            <li>Deploying Grails 3 and CDN on Elastic Beanstalk https://goo.gl/x163Fv</li>
                            <li>AWS Global Interactive Map https://goo.gl/qpHR09</li>
                        </UL>
                    </section>

                </section>
                <section>
                    <h1>THE END - Thank You!
                    </h1>
                    <h3>I hope you have enjoyed the session!</h3>
                    <p>Free free to contact me on twitter @RyanVanderwerf or email rvanderwerf@gmail.com</p>

                </section>

			</div>

            <!--<div id="myLogo" style="background: url('presentation-16-9-pages.png');
                        position: absolute;
                        bottom: 0px;
                        right: 0px;
                        width: 1910px;
                        height: 1080px;"></div>-->
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
